# 桌面应用测试检查清单

重新打包后，请按照此清单验证修复是否成功。

## 📋 安装前检查

- [ ] 已执行 `./gradlew clean`
- [ ] 已成功完成打包命令
- [ ] 打包文件已生成在正确的目录

## 📦 安装检查

- [ ] 安装程序正常运行
- [ ] 安装过程没有错误
- [ ] 应用成功安装到系统

## 🎨 图标检查

- [ ] 安装程序图标正确显示
- [ ] 应用程序图标正确显示
- [ ] 任务栏/Dock 图标正确显示
- [ ] 应用列表中的图标正确显示

## 🚀 启动检查

- [ ] 应用可以正常启动
- [ ] **没有出现 `DriverManager` 错误** ⭐
- [ ] 没有其他错误弹窗
- [ ] 主界面正常显示

## 💾 数据库检查

- [ ] 数据库目录创建成功（`~/.iptv/`）
- [ ] 数据库文件创建成功（`~/.iptv/iptv.db`）
- [ ] 控制台日志显示数据库初始化成功

验证命令：
```bash
ls -la ~/.iptv/
```

预期输出：
```
drwxr-xr-x  3 user  staff    96 Nov 27 16:00 .
drwxr-xr-x  50 user  staff  1600 Nov 27 16:00 ..
-rw-r--r--  1 user  staff  8192 Nov 27 16:00 iptv.db
```

## 🎬 功能检查

### 添加播放列表

- [ ] 点击"添加播放列表"按钮
- [ ] 可以输入播放列表信息
- [ ] 保存播放列表成功
- [ ] 播放列表显示在列表中

### 播放功能

- [ ] 可以选择频道
- [ ] 视频播放器正常加载
- [ ] 视频可以正常播放
- [ ] 播放控制按钮正常工作

### 数据持久化

- [ ] 关闭应用
- [ ] 重新打开应用
- [ ] 之前添加的播放列表仍然存在
- [ ] 数据没有丢失

## 🔍 日志检查

查看控制台输出，确认以下日志：

```
[Database] Initializing database at: /Users/xxx/.iptv/iptv.db
[Database] Database schema created successfully
[Database] Database schema verification successful
[Database] Database driver initialized successfully
```

## ✅ 核心验证点

### 问题 1：DriverManager 错误

**修复前**：
```
Error: java/sql/DriverManager
```

**修复后**：
- [ ] ✅ 应用正常启动，无此错误
- [ ] ✅ 数据库功能正常工作
- [ ] ✅ 可以添加和保存数据

### 问题 2：图标显示

**修复前**：
- ❌ 图标不显示或显示为默认图标

**修复后**：
- [ ] ✅ 应用图标正确显示
- [ ] ✅ 图标清晰，无模糊
- [ ] ✅ 所有位置的图标都正确

## 📊 测试结果

### 通过标准

- 所有核心验证点都通过 ✅
- 没有出现 DriverManager 错误 ✅
- 图标正确显示 ✅
- 基本功能正常工作 ✅

### 如果测试失败

1. 检查是否使用了最新打包的版本
2. 完全卸载旧版本后重新安装
3. 查看 `DESKTOP_PACKAGING_FIX.md` 故障排除部分
4. 检查打包日志是否有错误

## 📝 测试记录

**测试日期**：_______________

**测试平台**：
- [ ] macOS
- [ ] Windows
- [ ] Linux

**测试结果**：
- [ ] ✅ 全部通过
- [ ] ⚠️ 部分通过（说明问题）：_______________
- [ ] ❌ 测试失败（说明原因）：_______________

**备注**：
_______________________________________________
_______________________________________________
_______________________________________________
